rule all:
    input:
        "cdvae_benchmark_alex.final"

rule train_cdvae_alex:
    output:
        touch("cdvae_benchmark_alex.trained")
    input:
        "cdvae_env.created",
        "../../alexandria/alex_data.created"
    shell:
        """
        sbatch train_cdvae.job
        """

rule infer_cdvae_alex:
    output:
        touch("cdvae_benchmark_alex.inferred")
    input:
        "cdvae_env.created",
        "../../alexandria/alex_data.created",
        "cdvae_benchmark_alex.trained"
    shell:
        """
        sbatch inference_cdvae.job
        """

rule benchmark_cdvae_alex:
    output:
        touch("cdvae_benchmark_alex.final")
    input:
        "cdvae_env.created",
        "../../alexandria/alex_data.created",
        "cdvae_benchmark_alex.trained",
        "cdvae_benchmark_alex.inferred"

    shell:
        """
        sbatch benchmark_cdvae.job
        """
